<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="nKTbts_8nJ_QGd7y1Wj5QnEAnB8fGDNNT6Sx011kpFg" />

    <!-- SEO Meta Tags -->
    <title>Work Flow - ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ü‡∏£‡∏µ‡πÅ‡∏•‡∏ô‡∏ã‡πå‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏° | PowerPoint, Canva, ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ & Admin</title>
    <meta name="description" content="Work Flow ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏ß‡∏°‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ü‡∏£‡∏µ‡πÅ‡∏•‡∏ô‡∏ã‡πå‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á ‡∏£‡∏±‡∏ö‡∏ó‡∏≥ Presentation, ‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏û‡∏à‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û ‡∏î‡∏µ‡πÑ‡∏ã‡∏ô‡πå‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢ ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥">
    
    <!-- Google Fonts: Prompt -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@200;400;600;800&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        :root {
            --glass-bg: rgba(255, 255, 255, 0.15);
            --glass-border: rgba(255, 255, 255, 0.3);
            --primary-blue: #2563eb;
            --deep-blue: #1e3a8a;
        }

        body { 
            font-family: 'Prompt', sans-serif; 
            color: var(--deep-blue);
            background-color: #f8fafc;
            overflow-x: hidden;
        }

        /* --- Animated Background --- */
        .bg-mesh {
            position: fixed; inset: 0; z-index: -2;
            background: radial-gradient(circle at 0% 0%, #dbeafe 0%, transparent 40%),
                        radial-gradient(circle at 100% 100%, #bfdbfe 0%, transparent 40%),
                        radial-gradient(circle at 50% 50%, #eff6ff 0%, #f8fafc 100%);
        }
        .blob { position: fixed; border-radius: 50%; filter: blur(60px); z-index: -1; opacity: 0.4; animation: move 20s infinite alternate; }
        .blob-1 { top: -10%; left: -10%; width: 500px; height: 500px; background: #60a5fa; }
        .blob-2 { bottom: -10%; right: -10%; width: 600px; height: 600px; background: #93c5fd; animation-delay: -5s; }

        @keyframes move { from { transform: translate(0, 0) scale(1); } to { transform: translate(100px, 50px) scale(1.1); } }

        /* --- Glassmorphism --- */
        .glass {
            background: var(--glass-bg); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border); box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            border-radius: 1.5rem;
        }
        .glass-dark { background: rgba(15, 23, 42, 0.85); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); color: white; }

        /* --- Components --- */
        .service-card { transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1); }
        .service-card:hover { transform: translateY(-10px) scale(1.02); background: rgba(255, 255, 255, 0.4); border-color: var(--primary-blue); }
        .hero-title { font-weight: 800; line-height: 1.1; letter-spacing: -0.02em; }

        /* Modals */
        .modal-overlay {
            position: fixed; inset: 0; z-index: 1000;
            background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(10px);
            display: none; align-items: center; justify-content: center;
            opacity: 0; transition: opacity 0.3s ease;
        }
        .modal-overlay.active { display: flex; opacity: 1; }
        .modal-window {
            width: 95%; max-width: 900px; max-height: 90vh;
            background: rgba(255, 255, 255, 0.95); border-radius: 2.5rem; overflow: hidden;
            transform: translateY(30px); transition: all 0.4s ease;
            box-shadow: 0 50px 100px -20px rgba(0,0,0,0.3);
        }
        .modal-overlay.active .modal-window { transform: translateY(0); }

        /* Admin Access */
        #admin-panel { display: none; }
        .admin-mode #admin-panel { display: flex; animation: slideUp 0.4s ease; }
        .editable-active { outline: 3px dashed #fbbf24; background: rgba(251, 191, 36, 0.05); cursor: text; }
        .editable-img-active { cursor: pointer; border: 4px solid #fbbf24; position: relative; }
        .editable-img-active::after {
            content: "üì∏ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ"; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8); color: white; padding: 6px 12px; border-radius: 1rem; font-size: 10px; z-index: 10;
        }
        
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

        /* Booking */
        .booking-day {
            aspect-ratio: 1; border-radius: 1rem;
            display: flex; align-items: center; justify-content: center;
            font-weight: 600; cursor: pointer; transition: all 0.2s;
        }
        .day-booked { background: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; }
        .day-available { background: #dcfce7; color: #166534; border: 1px solid #86efac; }
        .day-available:hover { transform: scale(1.1); background: #bbf7d0; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        
        #loading-overlay { position: fixed; inset: 0; background: rgba(255,255,255,0.9); backdrop-filter: blur(10px); z-index: 9999; display: flex; justify-content: center; items-center; flex-direction: column; }
    </style>
</head>
<body>

    <div class="bg-mesh"></div>
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>

    <!-- Hidden Inputs -->
    <input type="file" id="imageUploadInput" accept="image/*" class="hidden">
    <input type="file" id="adminFileInput" accept=".pdf,.doc,.docx" class="hidden">

    <!-- Loading -->
    <div id="loading-overlay">
        <div class="w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"></div>
        <p class="mt-4 font-bold text-blue-800 tracking-widest uppercase text-xs">Work Flow Loading</p>
    </div>

    <!-- Admin Panel -->
    <div id="admin-panel" class="fixed bottom-0 inset-x-0 z-[1100] p-4 glass-dark justify-between items-center px-6 md:px-10 border-t border-white/20">
        <div class="flex items-center gap-4">
            <span class="bg-yellow-500 text-black px-3 py-1 rounded text-[10px] font-bold uppercase">Editor On</span>
            <p class="text-xs opacity-70 hidden sm:block">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</p>
        </div>
        <div class="flex gap-2">
            <button id="saveBtn" onclick="saveToDatabase()" class="bg-green-500 hover:bg-green-600 text-white px-5 py-2 rounded-xl font-bold text-xs transition shadow-lg">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            <button onclick="toggleEditMode()" class="bg-white/10 hover:bg-white/20 text-white px-5 py-2 rounded-xl font-bold text-xs transition">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 glass rounded-none border-b border-white/20">
        <div class="max-w-7xl mx-auto px-6 h-20 flex justify-between items-center">
            <div onclick="handleLogoClick()" class="flex items-center gap-3 cursor-pointer group">
                <div class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white font-black shadow-lg transform group-hover:rotate-12 transition">W</div>
                <span id="nav-brand" class="text-xl font-bold tracking-tight text-blue-900 editable" contenteditable="false">Work Flow</span>
            </div>
            <div class="hidden md:flex items-center gap-10">
                <a href="#about" class="text-sm font-semibold hover:text-blue-600 transition">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a>
                <a href="#services" class="text-sm font-semibold hover:text-blue-600 transition">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô</a>
                <a href="#booking" class="text-sm font-semibold hover:text-blue-600 transition">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏¥‡∏ß</a>
                <a href="#contact" class="bg-blue-600 text-white px-8 py-3 rounded-2xl text-xs font-bold uppercase tracking-widest hover:bg-blue-700 shadow-xl shadow-blue-500/20 transition transform hover:-translate-y-1">Contact</a>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-6 py-12 space-y-24">

        <!-- Hero Section -->
        <section data-aos="zoom-out" class="relative rounded-[3rem] overflow-hidden p-10 md:p-24 text-center bg-gradient-to-br from-blue-700 to-blue-500 text-white shadow-2xl">
            <div class="absolute inset-0 opacity-20 pointer-events-none">
                <div class="absolute top-0 left-0 w-full h-full" style="background-image: radial-gradient(circle at 2px 2px, white 1px, transparent 0); background-size: 40px 40px;"></div>
            </div>
            <div class="relative z-10 space-y-8 max-w-4xl mx-auto">
                <span class="inline-block px-4 py-1.5 rounded-full bg-white/20 border border-white/30 text-[10px] font-bold uppercase tracking-[0.3em]">Premium Freelance</span>
                <h1 id="hero-title" class="hero-title text-5xl md:text-8xl editable" contenteditable="false">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏á‡∏≤‡∏ô‡∏¢‡∏≤‡∏Å<br>‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢</h1>
                <p id="hero-desc" class="text-lg md:text-2xl font-light opacity-90 leading-relaxed editable" contenteditable="false">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠ ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏û‡∏à‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</p>
                <div class="flex flex-wrap justify-center gap-4 pt-6">
                    <a href="#booking" class="bg-white text-blue-700 px-10 py-4 rounded-3xl font-bold text-lg shadow-xl hover:scale-105 transition">‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏á‡∏≤‡∏ô</a>
                    <button id="dl-trigger" class="hidden public-download bg-blue-900/30 text-white border border-white/20 px-10 py-4 rounded-3xl font-bold text-lg backdrop-blur-md transition hover:bg-blue-900/50">
                        <i class="fas fa-file-pdf mr-2"></i> Company Profile
                    </button>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="space-y-12">
            <div class="text-center md:text-left space-y-2">
                <h2 class="text-4xl font-extrabold tracking-tight">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</h2>
                <p class="text-blue-600 font-medium">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- S1 -->
                <div onclick="openService('s1')" class="glass service-card p-4 group cursor-pointer">
                    <div class="rounded-2xl overflow-hidden h-64 mb-6 relative shadow-inner">
                        <img id="serv-img-1" src="https://placehold.co/600x400/e2e8f0/64748b?text=Presentation" class="w-full h-full object-cover editable-img transition duration-700 group-hover:scale-110">
                        <div class="absolute inset-0 bg-blue-900/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center backdrop-blur-[2px]">
                            <span class="bg-white text-blue-900 px-6 py-2 rounded-full font-bold shadow-lg text-sm">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</span>
                        </div>
                    </div>
                    <div class="px-2 space-y-1">
                        <h3 id="serv-title-1" class="text-2xl font-bold editable" contenteditable="false">‡∏á‡∏≤‡∏ô‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠</h3>
                        <p id="serv-desc-1" class="text-sm opacity-50 editable" contenteditable="false">PowerPoint, Canva, ‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô</p>
                    </div>
                </div>
                <!-- S2 -->
                <div onclick="openService('s2')" class="glass service-card p-4 group cursor-pointer">
                    <div class="rounded-2xl overflow-hidden h-64 mb-6 relative shadow-inner">
                        <img id="serv-img-2" src="https://placehold.co/600x400/f3e8ff/7e22ce?text=Document" class="w-full h-full object-cover editable-img transition duration-700 group-hover:scale-110">
                        <div class="absolute inset-0 bg-blue-900/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center backdrop-blur-[2px]">
                            <span class="bg-white text-blue-900 px-6 py-2 rounded-full font-bold shadow-lg text-sm">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</span>
                        </div>
                    </div>
                    <div class="px-2 space-y-1">
                        <h3 id="serv-title-2" class="text-2xl font-bold editable" contenteditable="false">‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</h3>
                        <p id="serv-desc-2" class="text-sm opacity-50 editable" contenteditable="false">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏á‡∏≤‡∏ô, ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏ô‡∏¥‡∏û‡∏ô‡∏ò‡πå, ‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤</p>
                    </div>
                </div>
                <!-- S3 -->
                <div onclick="openService('s3')" class="glass service-card p-4 group cursor-pointer">
                    <div class="rounded-2xl overflow-hidden h-64 mb-6 relative shadow-inner">
                        <img id="serv-img-3" src="https://placehold.co/600x400/ffedd5/c2410c?text=Admin" class="w-full h-full object-cover editable-img transition duration-700 group-hover:scale-110">
                        <div class="absolute inset-0 bg-blue-900/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center backdrop-blur-[2px]">
                            <span class="bg-white text-blue-900 px-6 py-2 rounded-full font-bold shadow-lg text-sm">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</span>
                        </div>
                    </div>
                    <div class="px-2 space-y-1">
                        <h3 id="serv-title-3" class="text-2xl font-bold editable" contenteditable="false">‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h3>
                        <p id="serv-desc-3" class="text-sm opacity-50 editable" contenteditable="false">‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏û‡∏à, ‡∏ï‡∏≠‡∏ö‡πÅ‡∏ä‡∏ó, ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Booking -->
        <section id="booking" class="glass p-8 md:p-16">
            <div class="max-w-4xl mx-auto space-y-10">
                <div class="text-center space-y-3">
                    <h2 class="text-4xl font-extrabold tracking-tight">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏¥‡∏ß‡∏á‡∏≤‡∏ô</h2>
                    <p class="text-blue-600/60 font-medium">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß = ‡∏ß‡πà‡∏≤‡∏á | ‡πÅ‡∏î‡∏á = ‡πÄ‡∏ï‡πá‡∏°</p>
                </div>
                <div id="calendar-grid" class="grid grid-cols-7 gap-2 md:gap-4"></div>
                <div id="booking-msg" class="hidden p-6 rounded-3xl text-center font-bold text-lg animate-pulse shadow-xl border-t-4 transition-all duration-300"></div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="space-y-12">
            <h2 class="text-4xl font-extrabold tracking-tight text-center">‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</h2>
            <div class="flex flex-wrap justify-center gap-4">
                <!-- Facebook -->
                <a href="https://www.facebook.com/profile.php?id=61583096235430" target="_blank" class="glass px-5 py-3 flex items-center gap-3 hover:border-blue-500 transition group min-w-[180px]">
                    <img id="logo-fb" src="https://placehold.co/40x40/1877F2/ffffff?text=f" class="w-8 h-8 rounded-lg object-cover editable-img shadow-sm">
                    <div class="flex-1">
                        <p class="text-[9px] uppercase font-bold opacity-30 leading-none mb-1">Facebook</p>
                        <p class="font-bold text-sm">Work Flow</p>
                    </div>
                </a>
                <!-- TikTok -->
                <a href="https://www.tiktok.com/@workflow044" target="_blank" class="glass px-5 py-3 flex items-center gap-3 hover:border-pink-500 transition group min-w-[180px]">
                    <img id="logo-tt" src="https://placehold.co/40x40/000000/ffffff?text=T" class="w-8 h-8 rounded-lg object-cover editable-img shadow-sm">
                    <div class="flex-1">
                        <p class="text-[9px] uppercase font-bold opacity-30 leading-none mb-1">TikTok</p>
                        <p class="font-bold text-sm">@workflow044</p>
                    </div>
                </a>
                <!-- Phone -->
                <a href="tel:0982165174" class="glass px-5 py-3 flex items-center gap-3 hover:border-green-500 transition group min-w-[180px]">
                    <img id="logo-ph" src="https://placehold.co/40x40/22c55e/ffffff?text=P" class="w-8 h-8 rounded-lg object-cover editable-img shadow-sm">
                    <div class="flex-1">
                        <p class="text-[9px] uppercase font-bold opacity-30 leading-none mb-1">Phone</p>
                        <p class="font-bold text-sm">098-216-5174</p>
                    </div>
                </a>
            </div>
        </section>

    </main>

    <footer class="py-12 text-center opacity-20 text-[10px] uppercase tracking-[0.4em]">Work Flow Agency &copy; 2026</footer>

    <!-- Service Modal -->
    <div id="service-modal" class="modal-overlay" onclick="closeService()">
        <div class="modal-window shadow-2xl" onclick="event.stopPropagation()">
            <div class="h-2 w-full bg-blue-600"></div>
            <div class="p-8 md:p-16 space-y-10 overflow-y-auto max-h-[85vh]">
                <div class="flex justify-between items-start gap-4">
                    <div class="space-y-3">
                        <h2 data-modal-part="title" class="text-4xl md:text-6xl font-black tracking-tighter editable" contenteditable="false">Title</h2>
                        <p data-modal-part="subtitle" class="text-lg md:text-xl text-blue-600 font-semibold editable" contenteditable="false">Subtitle</p>
                    </div>
                    <button onclick="closeService()" class="w-10 h-10 md:w-12 md:h-12 rounded-full glass flex items-center justify-center hover:bg-red-50 hover:text-red-500 transition"><i class="fas fa-times"></i></button>
                </div>

                <div class="grid md:grid-cols-2 gap-10">
                    <div class="space-y-8">
                        <div class="glass p-8 bg-blue-50/50 border-l-8 border-l-blue-600">
                            <h4 class="font-extrabold text-xs uppercase tracking-[0.2em] mb-4 text-blue-800">‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</h4>
                            <div data-modal-part="pricing" class="space-y-2 text-gray-700 leading-relaxed editable" contenteditable="false">
                                <p>‚Ä¢ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô 500 ‡∏ö‡∏≤‡∏ó</p>
                            </div>
                        </div>
                        <div class="space-y-3 px-2">
                            <h4 class="font-bold text-xs uppercase tracking-widest opacity-40">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</h4>
                            <p data-modal-part="details" class="text-gray-500 leading-relaxed editable" contenteditable="false">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
                        </div>
                    </div>
                    <div class="relative group">
                         <h4 class="font-bold text-[10px] uppercase tracking-widest text-center mb-4 opacity-30">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô</h4>
                         <div class="rounded-[2.5rem] overflow-hidden shadow-2xl p-2 glass">
                             <img data-modal-part="img" src="https://placehold.co/800x1000/e2e8f0/64748b?text=Sample+Work" class="w-full rounded-[2rem] object-cover editable-img">
                         </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="module">
        import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, setDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAfzanJaJ-9tpML1slfMAdwCF6jHWJRoyQ",
            authDomain: "work-flows-ac364.firebaseapp.com",
            projectId: "work-flows-ac364",
            storageBucket: "work-flows-ac364.firebasestorage.app",
            messagingSenderId: "1094886604901",
            appId: "1:1094886604901:web:ec9b2967b629d24d46868c",
            measurementId: "G-1KK8D48FZ7"
        };

        const app = !getApps().length ? initializeApp(firebaseConfig) : getApp();
        const auth = getAuth(app);
        const db = getFirestore(app);
        let dbData = { bookedDates: [], text: {}, images: {}, files: {} };
        const docRef = doc(db, 'website_content', 'main_data');

        signInAnonymously(auth).then(() => {
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    onSnapshot(docRef, (snap) => {
                        document.getElementById('loading-overlay').style.display = 'none';
                        if (snap.exists()) {
                            dbData = snap.data();
                            renderUI();
                        } else {
                            renderCalendar([]);
                        }
                    }, (err) => {
                        console.error(err);
                        document.getElementById('loading-overlay').style.display = 'none';
                    });
                }
            });
        });

        // Toggle Admin Access
        let logoCount = 0;
        window.handleLogoClick = () => {
            logoCount++;
            if(logoCount >= 5) { toggleEditMode(true); logoCount = 0; }
            setTimeout(() => logoCount = 0, 3000);
        };
        document.addEventListener('keydown', (e) => { if(e.shiftKey && e.key === 'A') toggleEditMode(); });

        let isEditMode = false;
        let currentServiceType = null;

        window.toggleEditMode = (force = false) => {
            if(!isEditMode || force) {
                if(!force && prompt("Pass:") !== "admin") return;
                isEditMode = true;
                document.body.classList.add('admin-mode');
                document.querySelectorAll('.editable').forEach(el => {
                    el.contentEditable = "true";
                    el.classList.add('editable-active');
                });
                document.querySelectorAll('.editable-img').forEach(el => {
                    el.classList.add('editable-img-active');
                    el.onclick = function() { window.curImg = this; document.getElementById('imageUploadInput').click(); };
                });
                document.getElementById('dl-trigger').onclick = () => document.getElementById('adminFileInput').click();
            } else {
                location.reload();
            }
        };

        // Modal Logic (Fixed Error: Using data-attributes instead of dynamic IDs to find elements)
        window.openService = (type) => {
            currentServiceType = type;
            const modal = document.getElementById('service-modal');
            
            // Find modal parts by data-attribute
            const titleEl = modal.querySelector('[data-modal-part="title"]');
            const subtitleEl = modal.querySelector('[data-modal-part="subtitle"]');
            const pricingEl = modal.querySelector('[data-modal-part="pricing"]');
            const detailsEl = modal.querySelector('[data-modal-part="details"]');
            const imgEl = modal.querySelector('[data-modal-part="img"]');

            // Map data from DB using the service type prefix
            titleEl.textContent = dbData.text?.[`modal-title-${type}`] || (type === 's1' ? "‡∏á‡∏≤‡∏ô‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠" : type === 's2' ? "‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£" : "‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ");
            subtitleEl.textContent = dbData.text?.[`modal-subtitle-${type}`] || "‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î";
            pricingEl.innerHTML = dbData.text?.[`modal-pricing-${type}`] || "<p>‚Ä¢ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà</p>";
            detailsEl.textContent = dbData.text?.[`modal-details-${type}`] || "‡∏Ñ‡∏•‡∏¥‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏á‡∏≤‡∏ô";
            imgEl.src = dbData.images?.[`modal-img-${type}`] || "https://placehold.co/800x1000/e2e8f0/64748b?text=Sample";

            modal.classList.add('active');
            
            // Re-apply editable states if in admin mode
            if(isEditMode) {
                modal.querySelectorAll('.editable').forEach(el => { el.contentEditable = "true"; el.classList.add('editable-active'); });
                modal.querySelectorAll('.editable-img').forEach(el => { el.classList.add('editable-img-active'); el.onclick = function(){ window.curImg = this; document.getElementById('imageUploadInput').click(); } });
            }
        };

        window.closeService = () => document.getElementById('service-modal').classList.remove('active');

        function renderUI() {
            if(dbData.text) Object.entries(dbData.text).forEach(([id, val]) => {
                const el = document.getElementById(id);
                if(el && !isEditMode) el.innerHTML = val;
            });
            if(dbData.images) Object.entries(dbData.images).forEach(([id, src]) => {
                const el = document.getElementById(id);
                if(el) el.src = src;
            });
            const dl = document.getElementById('dl-trigger');
            if(dbData.files?.company_profile) {
                dl.classList.remove('hidden');
                dl.onclick = () => window.open(dbData.files.company_profile, '_blank');
            }
            renderCalendar(dbData.bookedDates || []);
        }

        function renderCalendar(booked) {
            const grid = document.getElementById('calendar-grid');
            if(!grid) return;
            const now = new Date();
            const days = new Date(now.getFullYear(), now.getMonth() + 1, 0).getDate();
            const start = new Date(now.getFullYear(), now.getMonth(), 1).getDay();
            grid.innerHTML = '';
            ['‡∏≠‡∏≤','‡∏à','‡∏≠','‡∏û','‡∏û‡∏§','‡∏®','‡∏™'].forEach(d => grid.innerHTML += `<div class="text-center text-[10px] font-black opacity-20 uppercase">${d}</div>`);
            for(let i=0; i<start; i++) grid.innerHTML += '<div></div>';
            for (let i = 1; i <= days; i++) {
                const div = document.createElement('div');
                div.textContent = i;
                div.className = `booking-day ${booked.includes(i) ? 'day-booked' : 'day-available'}`;
                div.onclick = () => handleDayClick(i);
                grid.appendChild(div);
            }
        }

        window.handleDayClick = (day) => {
            const msg = document.getElementById('booking-msg');
            if(isEditMode) {
                if(!dbData.bookedDates) dbData.bookedDates = [];
                const idx = dbData.bookedDates.indexOf(day);
                if(idx > -1) dbData.bookedDates.splice(idx, 1); else dbData.bookedDates.push(day);
                renderCalendar(dbData.bookedDates);
                msg.className = "p-6 rounded-3xl text-center font-bold text-lg bg-blue-50 text-blue-600 border-blue-200 block";
                msg.textContent = `‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${day} ‡πÅ‡∏•‡πâ‡∏ß (‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏Å‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞)`;
            } else {
                msg.classList.remove('hidden');
                if(dbData.bookedDates.includes(day)) {
                    msg.className = "p-6 rounded-3xl text-center font-bold text-lg bg-red-50 text-red-600 border-red-200 block";
                    msg.textContent = `‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${day} ‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö`;
                } else {
                    msg.className = "p-6 rounded-3xl text-center font-bold text-lg bg-green-50 text-green-700 border-green-200 block";
                    msg.innerHTML = `‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${day} ‡∏ß‡πà‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏ö! <a href="https://www.facebook.com/profile.php?id=61583096235430" target="_blank" class="underline">‡∏à‡∏≠‡∏á‡πÄ‡∏•‡∏¢</a>`;
                }
            }
        };

        window.saveToDatabase = async () => {
            const textData = { ...dbData.text };
            document.querySelectorAll('.editable').forEach(el => {
                // If in modal, save with specific prefix
                if (el.hasAttribute('data-modal-part')) {
                    const part = el.getAttribute('data-modal-part');
                    textData[`modal-${part}-${currentServiceType}`] = el.innerHTML;
                } else if (el.id) {
                    textData[el.id] = el.innerHTML;
                }
            });
            
            const imageData = { ...dbData.images };
            document.querySelectorAll('.editable-img').forEach(el => {
                if (el.hasAttribute('data-modal-part')) {
                    imageData[`modal-img-${currentServiceType}`] = el.src;
                } else if (el.id) {
                    imageData[el.id] = el.src;
                }
            });

            try {
                await setDoc(docRef, { ...dbData, text: textData, images: imageData });
                alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!");
                location.reload();
            } catch(e) { alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å"); }
        };

        document.getElementById('imageUploadInput').onchange = (e) => {
            const file = e.target.files[0];
            if(file && file.size < 900000) {
                const reader = new FileReader();
                reader.onload = (evt) => window.curImg.src = evt.target.result;
                reader.readAsDataURL(file);
            } else alert("‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (900KB)");
        };

        document.getElementById('adminFileInput').onchange = (e) => {
            const file = e.target.files[0];
            if(file && file.size < 900000) {
                const reader = new FileReader();
                reader.onload = (evt) => {
                    dbData.files = { ...dbData.files, company_profile: evt.target.result };
                    alert("‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô");
                };
                reader.readAsDataURL(file);
            }
        };

        AOS.init();
    </script>
</body>
</html>
