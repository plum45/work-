<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work Flow - ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏ü‡∏£‡∏µ‡πÅ‡∏•‡∏ô‡∏ã‡πå‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£</title>
    
    <!-- Google Site Verification Tag -->
    <meta name="google-site-verification" content="N285uTUonyzVnxui0WNbB9zO4dgUN0QNyBrugVbEZ2Y" />

    <!-- Google Fonts: Prompt (Modern Thai Font) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        :root {
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.5);
            --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            --primary-blue: #2563eb;
        }

        body { 
            font-family: 'Prompt', sans-serif; 
            color: #1e3a8a; /* Dark Blue Text */
            margin: 0;
            overflow-x: hidden;
            background-color: #f0f9ff;
        }

        /* --- Animated Mesh Gradient Background --- */
        .bg-mesh {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            z-index: -1;
            background: radial-gradient(at 0% 0%, hsla(210,100%,76%,1) 0, transparent 50%), 
                        radial-gradient(at 50% 0%, hsla(190,100%,86%,1) 0, transparent 50%), 
                        radial-gradient(at 100% 0%, hsla(220,100%,70%,1) 0, transparent 50%);
            background-size: 200% 200%;
            animation: gradientBG 15s ease infinite;
        }

        /* Floating Blobs */
        .blob {
            position: fixed;
            border-radius: 50%;
            filter: blur(80px);
            z-index: -1;
            opacity: 0.6;
            animation: float 10s infinite ease-in-out;
        }
        .blob-1 { top: 10%; left: 10%; width: 300px; height: 300px; background: #60a5fa; animation-delay: 0s; }
        .blob-2 { bottom: 20%; right: 10%; width: 400px; height: 400px; background: #3b82f6; animation-delay: -2s; }
        .blob-3 { top: 40%; left: 60%; width: 250px; height: 250px; background: #93c5fd; animation-delay: -4s; }

        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(30px, -50px) rotate(10deg); }
            66% { transform: translate(-20px, 20px) rotate(-5deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- Glassmorphism Cards --- */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            border-radius: 1.5rem;
            padding: 2rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .glass-card:hover {
            transform: translateY(-5px) scale(1.01);
            background: rgba(255, 255, 255, 0.4);
            border-color: #fff;
            box-shadow: 0 15px 40px rgba(37, 99, 235, 0.2);
        }

        /* --- Hero Section Glass --- */
        .hero-glass {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.85) 0%, rgba(59, 130, 246, 0.75) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            box-shadow: 0 20px 50px rgba(37, 99, 235, 0.3);
        }

        /* --- Custom Scrollbar --- */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(37, 99, 235, 0.5); border-radius: 10px; border: 2px solid #f0f9ff; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(37, 99, 235, 0.8); }

        /* --- Interactive Elements --- */
        .nav-link {
            position: relative;
            color: #1e40af;
            font-weight: 600;
            letter-spacing: 0.02em;
            transition: color 0.3s;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0; height: 2px;
            bottom: -4px; left: 0;
            background-color: #2563eb;
            transition: width 0.3s ease;
        }
        .nav-link:hover::after { width: 100%; }

        .booking-slot {
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        .booking-slot:hover { transform: scale(1.1); z-index: 10; border-color: #2563eb; }
        .booking-slot.booked { background-color: rgba(254, 202, 202, 0.5); color: #991b1b; border: 1px solid #fca5a5; opacity: 0.7; }
        .admin-mode .booking-slot.booked:hover { background-color: #ef4444; color: white; opacity: 1; }
        .booking-slot.available { background-color: rgba(220, 252, 231, 0.6); color: #166534; border: 1px solid #86efac; }

        /* --- Admin & Editable --- */
        .admin-visible-only { display: none !important; }
        .admin-mode .admin-visible-only { display: inline-flex !important; animation: fadeIn 0.5s; }
        .editable-active { border: 2px dashed #fbbf24 !important; cursor: text; background-color: rgba(255, 255, 255, 0.95); box-shadow: 0 0 15px rgba(251, 191, 36, 0.3); border-radius: 4px; padding: 2px; }
        .editable-img-active { cursor: pointer; border: 4px solid #fbbf24; opacity: 0.9; }
        .editable-img-active::after { content: "üì∏ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ"; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.8); color: white; padding: 8px 16px; border-radius: 20px; font-size: 14px; pointer-events: none; backdrop-filter: blur(4px); }

        #loading-overlay { position: fixed; inset: 0; background: rgba(255,255,255,0.8); backdrop-filter: blur(10px); z-index: 9999; display: flex; justify-content: center; items-center; flex-direction: column; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <!-- Background Elements -->
    <div class="bg-mesh"></div>
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>

    <!-- Loading Screen -->
    <div id="loading-overlay">
        <div class="relative w-20 h-20">
            <div class="absolute inset-0 border-4 border-blue-200 rounded-full animate-ping"></div>
            <div class="absolute inset-0 border-4 border-blue-600 rounded-full animate-spin border-t-transparent"></div>
        </div>
        <p class="text-blue-700 font-bold mt-4 text-lg tracking-wide">Work Flow</p>
        <p class="text-blue-400 text-sm" id="loading-status">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏ö...</p>
    </div>

    <!-- Hidden Inputs -->
    <input type="file" id="imageUploadInput" accept="image/*" style="display: none;">
    <input type="file" id="fileUploadInput" accept=".pdf,.doc,.docx,.zip,.jpg,.png" style="display: none;">

    <!-- Admin Tools (Hidden by default, Toggle with Shift+A) -->
    <div id="admin-tools" class="fixed bottom-6 right-6 z-50 flex flex-col items-end gap-3 hidden">
        <button id="saveButton" onclick="saveToDatabase()" class="hidden bg-green-500 text-white px-6 py-3 rounded-full shadow-2xl hover:bg-green-600 flex items-center gap-2 transition-all transform hover:scale-105 backdrop-blur-md border border-white/40 font-semibold text-sm tracking-wide">
            <i class="fas fa-save"></i> <span>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</span>
        </button>
        <button id="editToggle" onclick="toggleEditMode()" class="bg-gray-900/90 text-white px-6 py-3 rounded-full shadow-2xl hover:bg-black flex items-center gap-2 transition-all transform hover:scale-105 backdrop-blur-md border border-white/40 text-sm font-semibold tracking-wide">
            <i class="fas fa-user-shield"></i> <span>‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</span>
        </button>
        <div class="bg-black/50 text-white text-[10px] px-2 py-1 rounded backdrop-blur-sm">‡∏Å‡∏î Shift + A ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ã‡πà‡∏≠‡∏ô/‡πÅ‡∏™‡∏î‡∏á</div>
    </div>

    <!-- Navigation -->
    <nav class="sticky top-0 z-40 glass-card !rounded-none !border-t-0 !border-x-0 border-b border-white/40 shadow-sm mx-0 px-0 py-0">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-24 items-center">
                <div class="flex items-center gap-3 group cursor-pointer">
                    <div class="w-12 h-12 bg-gradient-to-br from-blue-600 to-cyan-400 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg transform group-hover:rotate-6 transition-all duration-300">W</div>
                    <span id="nav-brand" class="text-2xl font-extrabold tracking-tight text-blue-900 editable" contenteditable="false">Work Flow</span>
                </div>
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-10 items-center">
                    <a href="#about" class="nav-link">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a>
                    <a href="#services" class="nav-link">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ & ‡∏£‡∏≤‡∏Ñ‡∏≤</a>
                    <a href="#portfolio" class="nav-link">‡∏ú‡∏•‡∏á‡∏≤‡∏ô</a>
                    <a href="#booking" class="nav-link">‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß</a>
                    <a href="#contact" class="bg-blue-600 text-white px-8 py-3 rounded-full text-sm font-bold hover:bg-blue-700 transition shadow-lg hover:shadow-blue-500/40 transform hover:-translate-y-1">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
                </div>
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button onclick="document.getElementById('mobile-menu').classList.toggle('hidden')" class="text-blue-900 p-2 rounded-lg hover:bg-white/20 transition"><i class="fas fa-bars text-3xl"></i></button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden bg-white/95 backdrop-blur-xl border-b border-gray-200 absolute w-full shadow-xl">
            <div class="px-6 pt-4 pb-6 space-y-3">
                <a href="#about" class="block text-gray-800 px-4 py-3 rounded-xl hover:bg-blue-50 font-medium text-lg">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a>
                <a href="#services" class="block text-gray-800 px-4 py-3 rounded-xl hover:bg-blue-50 font-medium text-lg">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ & ‡∏£‡∏≤‡∏Ñ‡∏≤</a>
                <a href="#booking" class="block text-gray-800 px-4 py-3 rounded-xl hover:bg-blue-50 font-medium text-lg">‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß</a>
                <a href="#contact" class="block text-center bg-blue-600 text-white px-4 py-3 rounded-xl hover:bg-blue-700 font-bold text-lg mt-4">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-16">
        
        <!-- Hero Section -->
        <div data-aos="fade-up" class="hero-glass rounded-[2.5rem] p-10 md:p-24 text-center relative overflow-hidden group">
            <div class="absolute top-[-20%] right-[-10%] w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse"></div>
            <div class="absolute bottom-[-20%] left-[-10%] w-96 h-96 bg-cyan-400/20 rounded-full blur-3xl animate-pulse" style="animation-delay: 2s;"></div>
            
            <div class="relative z-10 flex flex-col items-center">
                <span class="inline-block py-1.5 px-4 rounded-full bg-white/20 text-xs md:text-sm font-bold tracking-widest mb-6 border border-white/30 backdrop-blur-sm uppercase">Welcome to Future Work</span>
                <h1 id="hero-title" class="text-5xl md:text-8xl font-extrabold mb-8 tracking-tight leading-none editable drop-shadow-lg" contenteditable="false">
                    ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏á‡∏≤‡∏ô‡∏¢‡∏≤‡∏Å <br class="md:hidden"> ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢
                </h1>
                <p id="hero-desc" class="text-xl md:text-3xl text-blue-50 max-w-4xl mx-auto mb-12 font-light leading-relaxed editable" contenteditable="false">
                    Work Flow ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡∏ü‡∏£‡∏µ‡πÅ‡∏•‡∏ô‡∏ã‡πå ‡∏á‡∏≤‡∏ô‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠ ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ <br class="hidden md:block">‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û
                </p>
                
                <div class="flex flex-col sm:flex-row justify-center gap-6 w-full sm:w-auto">
                    <a href="#booking" class="bg-white text-blue-700 px-12 py-5 rounded-2xl font-extrabold text-lg shadow-xl hover:shadow-2xl hover:bg-gray-50 transition transform hover:-translate-y-1 border border-white flex items-center justify-center gap-3 group">
                        <span>‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</span> <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                    </a>
                    <a href="#portfolio" class="bg-blue-800/30 text-white border border-white/40 px-12 py-5 rounded-2xl font-bold text-lg hover:bg-blue-800/50 transition backdrop-blur-md flex items-center justify-center gap-3">
                        <i class="fas fa-layer-group"></i> <span>‡∏î‡∏π‡∏ú‡∏•‡∏á‡∏≤‡∏ô</span>
                    </a>

                    <!-- Admin Upload Button -->
                    <button id="upload-btn-trigger" class="admin-visible-only bg-yellow-400 text-yellow-900 px-12 py-5 rounded-2xl font-bold text-lg shadow-lg hover:bg-yellow-300 transition items-center gap-2 border border-yellow-200 transform hover:scale-105">
                        <i class="fas fa-cloud-upload-alt"></i> ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå
                    </button>
                </div>

                <!-- File Download Area -->
                <div id="public-download-area" class="mt-10 hidden animate-bounce">
                    <a id="download-btn" href="#" target="_blank" class="inline-flex items-center gap-3 text-white/90 hover:text-white bg-white/10 px-8 py-3 rounded-full border border-white/30 backdrop-blur-sm transition hover:bg-white/20 text-sm font-medium">
                        <i class="fas fa-file-pdf text-red-300 text-xl"></i> <span id="download-text">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Company Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Analytics Dashboard (Admin Only) -->
        <div id="analytics-dashboard" class="hidden animate-fade-in" data-aos="fade-down">
            <div class="glass-card bg-gray-900/95 !border-gray-700 text-white p-8">
                <div class="flex justify-between items-center mb-8 border-b border-gray-700 pb-6">
                    <h2 class="text-2xl font-bold text-white flex items-center gap-3">
                        <span class="bg-cyan-500 w-3 h-8 rounded-full block"></span>
                        ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô (Analytics)
                    </h2>
                    <button onclick="refreshAnalytics()" class="text-sm bg-gray-800 border border-gray-600 px-5 py-2.5 rounded-xl hover:bg-gray-700 transition flex items-center gap-2 font-medium">
                        <i class="fas fa-sync-alt spin-hover"></i> ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä
                    </button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-white/5 p-8 rounded-3xl border border-white/10 hover:bg-white/10 transition">
                        <p class="text-gray-400 text-sm uppercase tracking-wider mb-3 font-semibold">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                        <p id="stat-total-views" class="text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500">Loading...</p>
                    </div>
                    <div class="bg-white/5 p-8 rounded-3xl border border-white/10 hover:bg-white/10 transition">
                        <p class="text-gray-400 text-sm uppercase tracking-wider mb-3 font-semibold">‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</p>
                        <p id="stat-last-visit" class="text-2xl font-bold text-green-400">Loading...</p>
                    </div>
                    <div class="bg-white/5 p-8 rounded-3xl border border-white/10 hover:bg-white/10 transition">
                        <p class="text-gray-400 text-sm uppercase tracking-wider mb-3 font-semibold">Storage Usage</p>
                        <p id="stat-db-size" class="text-2xl font-bold text-yellow-400">Checking...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Bento Grid Layout -->
        <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8">
            
            <!-- About Section (Large Tile) -->
            <div id="about" class="glass-card col-span-1 md:col-span-2 row-span-1 flex flex-col justify-center p-10" data-aos="fade-right">
                <div class="flex items-center gap-5 mb-6">
                    <div class="w-16 h-16 bg-blue-100/80 rounded-3xl flex items-center justify-center text-blue-600 shadow-inner backdrop-blur-sm">
                        <i class="fas fa-quote-left text-2xl"></i>
                    </div>
                    <h2 id="about-title" class="text-3xl font-extrabold text-blue-900 editable" contenteditable="false">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Work Flow</h2>
                </div>
                <p id="about-text" class="text-gray-600 leading-relaxed text-xl font-light editable" contenteditable="false">
                    ‡πÄ‡∏£‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ñ‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î ‡πÄ‡∏£‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏î‡∏π‡πÅ‡∏•‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ ‡∏á‡∏≤‡∏ô‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠ ‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
                </p>
            </div>

            <!-- Services Section -->
            <div id="services" class="col-span-1 md:col-span-3 lg:col-span-4 grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- S1 -->
                <div class="glass-card group cursor-pointer p-0 overflow-hidden" data-aos="fade-up" data-aos-delay="100">
                    <div class="h-64 bg-gray-100 overflow-hidden relative">
                         <img id="serv-img-1" src="https://placehold.co/600x400/e2e8f0/64748b?text=Presentation" class="w-full h-full object-cover editable-img transition duration-700 group-hover:scale-110 group-hover:rotate-1">
                         <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition duration-300 flex items-end p-6">
                             <span class="text-white font-medium text-sm border border-white/50 px-3 py-1 rounded-full backdrop-blur-sm">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</span>
                         </div>
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 id="serv-title-1" class="text-2xl font-bold text-gray-800 editable" contenteditable="false">‡∏á‡∏≤‡∏ô‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠</h3>
                            <span id="serv-price-1" class="bg-blue-100 text-blue-700 px-4 py-1.5 rounded-full text-sm font-bold editable" contenteditable="false">‡∏ø500+</span>
                        </div>
                        <p id="serv-desc-1" class="text-gray-500 text-base editable" contenteditable="false">‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö PowerPoint, Canva, Keynote ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° ‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢</p>
                    </div>
                </div>
                <!-- S2 -->
                <div class="glass-card group cursor-pointer p-0 overflow-hidden" data-aos="fade-up" data-aos-delay="200">
                    <div class="h-64 bg-gray-100 overflow-hidden relative">
                        <img id="serv-img-2" src="https://placehold.co/600x400/f3e8ff/7e22ce?text=Report" class="w-full h-full object-cover editable-img transition duration-700 group-hover:scale-110 group-hover:rotate-1">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 id="serv-title-2" class="text-2xl font-bold text-gray-800 editable" contenteditable="false">‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</h3>
                            <span id="serv-price-2" class="bg-purple-100 text-purple-700 px-4 py-1.5 rounded-full text-sm font-bold editable" contenteditable="false">‡∏ø300+</span>
                        </div>
                        <p id="serv-desc-2" class="text-gray-500 text-base editable" contenteditable="false">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏á‡∏≤‡∏ô, ‡∏à‡∏±‡∏î‡∏´‡∏ô‡πâ‡∏≤, ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•, ‡∏ó‡∏≥‡πÄ‡∏•‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</p>
                    </div>
                </div>
                <!-- S3 -->
                <div class="glass-card group cursor-pointer p-0 overflow-hidden" data-aos="fade-up" data-aos-delay="300">
                    <div class="h-64 bg-gray-100 overflow-hidden relative">
                        <img id="serv-img-3" src="https://placehold.co/600x400/ffedd5/c2410c?text=Admin" class="w-full h-full object-cover editable-img transition duration-700 group-hover:scale-110 group-hover:rotate-1">
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-3">
                            <h3 id="serv-title-3" class="text-2xl font-bold text-gray-800 editable" contenteditable="false">‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h3>
                            <span id="serv-price-3" class="bg-orange-100 text-orange-700 px-4 py-1.5 rounded-full text-sm font-bold editable" contenteditable="false">‡∏ø250+</span>
                        </div>
                        <p id="serv-desc-3" class="text-gray-500 text-base editable" contenteditable="false">‡∏ï‡∏≠‡∏ö‡πÅ‡∏ä‡∏ó, ‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô, Admin ‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏û‡∏à</p>
                    </div>
                </div>
            </div>

            <!-- Portfolio Section -->
            <div id="portfolio" class="glass-card col-span-1 md:col-span-3 lg:col-span-4 p-8" data-aos="fade-up">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-extrabold text-gray-800 flex items-center gap-4">
                        <span class="w-10 h-10 rounded-xl bg-indigo-500 flex items-center justify-center text-white text-lg shadow-lg"><i class="fas fa-star"></i></span>
                        ‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤
                    </h2>
                    <a href="#" class="text-base text-gray-500 hover:text-blue-600 transition flex items-center gap-2">‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                    <div class="aspect-square bg-gray-100 rounded-3xl overflow-hidden relative shadow-md group">
                        <img id="port-img-1" src="https://placehold.co/400x400?text=Project+1" class="w-full h-full object-cover editable-img transition duration-500 group-hover:scale-110">
                        <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center text-white font-bold backdrop-blur-sm text-lg">Project 01</div>
                    </div>
                    <div class="aspect-square bg-gray-100 rounded-3xl overflow-hidden relative shadow-md group">
                        <img id="port-img-2" src="https://placehold.co/400x400?text=Project+2" class="w-full h-full object-cover editable-img transition duration-500 group-hover:scale-110">
                        <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center text-white font-bold backdrop-blur-sm text-lg">Project 02</div>
                    </div>
                    <div class="aspect-square bg-gray-100 rounded-3xl overflow-hidden relative shadow-md group">
                        <img id="port-img-3" src="https://placehold.co/400x400?text=Project+3" class="w-full h-full object-cover editable-img transition duration-500 group-hover:scale-110">
                        <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center text-white font-bold backdrop-blur-sm text-lg">Project 03</div>
                    </div>
                    <div class="aspect-square bg-white/50 rounded-3xl flex flex-col items-center justify-center border-2 border-dashed border-gray-300 text-gray-400 hover:bg-white hover:border-blue-400 hover:text-blue-500 transition cursor-pointer group">
                         <i class="fas fa-plus text-4xl mb-3 group-hover:scale-125 transition"></i>
                         <span class="text-sm font-medium">More Projects</span>
                    </div>
                </div>
            </div>

            <!-- Booking Section -->
            <div id="booking" class="glass-card col-span-1 md:col-span-2 lg:col-span-3 p-8" data-aos="zoom-in-up">
                <div class="flex items-center justify-between mb-8">
                    <h2 class="text-3xl font-extrabold text-gray-800 flex items-center gap-4">
                        <i class="far fa-calendar-check text-green-500 text-3xl"></i> ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏¥‡∏ß‡∏á‡∏≤‡∏ô
                    </h2>
                    <div class="flex gap-3 text-sm font-medium">
                        <span class="flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-full border border-green-200"><div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div> ‡∏ß‡πà‡∏≤‡∏á</span>
                        <span class="flex items-center gap-2 bg-red-50 text-red-700 px-4 py-2 rounded-full border border-red-200"><div class="w-3 h-3 bg-red-500 rounded-full"></div> ‡πÄ‡∏ï‡πá‡∏°</span>
                    </div>
                </div>
                <p id="booking-desc" class="text-base text-gray-500 mb-8 editable" contenteditable="false">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡∏¥‡∏ß‡∏ß‡πà‡∏≤‡∏á (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Real-time)</p>
                
                <div id="calendar-grid" class="grid grid-cols-7 gap-4 text-center text-base font-medium mb-6"></div>
                <div id="booking-message" class="mt-6 p-6 rounded-2xl hidden text-lg font-medium text-center shadow-lg border-l-8 transition-all"></div>
            </div>

            <!-- Contact Section (Optimized Layout with Logos) -->
            <div id="contact" class="glass-card col-span-1 md:col-span-1 lg:col-span-1 bg-gradient-to-b from-gray-900 to-gray-800 text-white !border-gray-700 shadow-2xl p-6" data-aos="flip-right">
                <h2 class="text-2xl font-extrabold mb-6 flex items-center gap-3">
                    <span class="w-1.5 h-8 bg-blue-500 rounded-full block"></span> ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤
                </h2>
                <div class="space-y-4">
                    <!-- Facebook -->
                    <a href="https://www.facebook.com/profile.php?id=61583096235430" target="_blank" class="flex items-center gap-4 p-3 bg-white/5 rounded-xl hover:bg-blue-600/20 hover:border-blue-500/50 transition border border-white/10 group backdrop-blur-md">
                        <img id="logo-fb" src="https://placehold.co/48x48/1877F2/ffffff?text=FB" class="w-12 h-12 rounded-full object-cover editable-img border border-white/20 shadow-md">
                        <div class="flex-1 min-w-0">
                            <p class="text-[10px] text-gray-400 mb-0.5">Facebook</p>
                            <p class="font-bold text-base group-hover:text-blue-400 transition truncate">Work Flow</p>
                        </div>
                    </a>
                    
                    <!-- TikTok -->
                    <a href="https://www.tiktok.com/@workflow044" target="_blank" class="flex items-center gap-4 p-3 bg-white/5 rounded-xl hover:bg-pink-600/20 hover:border-pink-500/50 transition border border-white/10 group backdrop-blur-md">
                        <img id="logo-tt" src="https://placehold.co/48x48/000000/ffffff?text=TT" class="w-12 h-12 rounded-full object-cover editable-img border border-white/20 shadow-md">
                        <div class="flex-1 min-w-0">
                            <p class="text-[10px] text-gray-400 mb-0.5">TikTok</p>
                            <p class="font-bold text-base group-hover:text-pink-400 transition truncate">@workflow044</p>
                        </div>
                    </a>

                    <!-- Phone -->
                    <a href="tel:0982165174" class="flex items-center gap-4 p-3 bg-white/5 rounded-xl hover:bg-green-600/20 hover:border-green-500/50 transition border border-white/10 group backdrop-blur-md">
                        <img id="logo-ph" src="https://placehold.co/48x48/22c55e/ffffff?text=Tel" class="w-12 h-12 rounded-full object-cover editable-img border border-white/20 shadow-md">
                        <div class="flex-1 min-w-0">
                            <p class="text-[10px] text-gray-400 mb-0.5">‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</p>
                            <p class="font-bold text-base group-hover:text-green-400 transition truncate">098-216-5174</p>
                        </div>
                    </a>
                    
                    <div class="pt-4 border-t border-gray-700 mt-2 text-center">
                         <p class="text-[10px] text-gray-500 tracking-wide opacity-70">&copy; 2026 Work Flow</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <!-- Animation Lib -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,
            once: true,
            offset: 50
        });
    </script>

    <!-- Firebase Logic -->
    <script type="module">
        import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, setDoc, addDoc, collection, query, orderBy, limit, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // CONFIG (Your Key)
        const firebaseConfig = {
            apiKey: "AIzaSyAfzanJaJ-9tpML1slfMAdwCF6jHWJRoyQ",
            authDomain: "work-flows-ac364.firebaseapp.com",
            projectId: "work-flows-ac364",
            storageBucket: "work-flows-ac364.firebasestorage.app",
            messagingSenderId: "1094886604901",
            appId: "1:1094886604901:web:ec9b2967b629d24d46868c",
            measurementId: "G-1KK8D48FZ7"
        };

        // Singleton Init
        let app;
        const appName = "WorkFlow-Production-v4-Glass";
        try {
            if (getApps().some(a => a.name === appName)) app = getApp(appName);
            else app = initializeApp(firebaseConfig, appName);
        } catch (e) { document.getElementById('loading-status').innerText = "Init Error"; }

        const auth = getAuth(app);
        const db = getFirestore(app);
        
        let currentUser = null;
        let isEditMode = false;
        let dbData = { bookedDates: [5, 12, 20, 25] }; 
        const collectionName = 'website_content';
        const documentId = 'main_data';
        const analyticsCollection = 'website_analytics';
        const docRef = doc(db, collectionName, documentId);

        signInAnonymously(auth).catch(e => console.error(e));

        onAuthStateChanged(auth, (user) => {
            if (user) {
                currentUser = user;
                logVisit();
                onSnapshot(docRef, (snapshot) => {
                    document.getElementById('loading-overlay').style.display = 'none';
                    if (snapshot.exists()) {
                        dbData = snapshot.data();
                        renderContent(dbData);
                    } else {
                        saveToDatabase(true); 
                    }
                });
            }
        });

        // Analytics
        async function logVisit() {
            try { await addDoc(collection(db, analyticsCollection), { timestamp: new Date().toISOString(), userAgent: navigator.userAgent }); } catch (e) {}
        }

        window.refreshAnalytics = async () => {
            if (!isEditMode) return;
            const statsTotal = document.getElementById('stat-total-views');
            const statsLast = document.getElementById('stat-last-visit');
            const sizeStat = document.getElementById('stat-db-size');
            statsTotal.innerText = "...";
            
            try {
                const q = query(collection(db, analyticsCollection), orderBy("timestamp", "desc"), limit(10));
                const snap = await getDocs(q);
                statsTotal.innerText = snap.size + "+"; 
                if(!snap.empty) statsLast.innerText = new Date(snap.docs[0].data().timestamp).toLocaleDateString('th-TH');
                
                const dataSize = new Blob([JSON.stringify(dbData)]).size / 1024;
                sizeStat.innerText = dataSize.toFixed(2) + " KB";
            } catch (e) { statsTotal.innerText = "Error"; }
        };

        // Render
        function renderContent(data) {
            if(data.text) Object.entries(data.text).forEach(([id, t]) => { const el = document.getElementById(id); if(el && !isEditMode) el.innerText = t; });
            if(data.images) Object.entries(data.images).forEach(([id, s]) => { const el = document.getElementById(id); if(el) el.src = s; });
            
            // Handle Download Link
            const dlArea = document.getElementById('public-download-area');
            const dlBtn = document.getElementById('download-btn');
            if (data.files && data.files['company_profile']) {
                dlBtn.href = data.files['company_profile'];
                dlArea.classList.remove('hidden'); 
            } else {
                dlArea.classList.add('hidden');
            }
            
            renderCalendar(data.bookedDates || []);
        }

        function renderCalendar(bookedDates) {
            const grid = document.getElementById('calendar-grid');
            const now = new Date();
            const daysInMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0).getDate();
            const startDay = new Date(now.getFullYear(), now.getMonth(), 1).getDay();
            
            grid.innerHTML = '';
            ['‡∏≠‡∏≤','‡∏à','‡∏≠','‡∏û','‡∏û‡∏§','‡∏®','‡∏™'].forEach(d => grid.innerHTML += `<div class="text-gray-400 font-bold">${d}</div>`);
            for(let i=0; i<startDay; i++) grid.innerHTML += '<div></div>';
            
            for (let i = 1; i <= daysInMonth; i++) {
                const div = document.createElement('div');
                div.textContent = i;
                div.className = `p-3 rounded-xl border border-gray-200 text-lg font-semibold booking-slot flex items-center justify-center shadow-sm ${bookedDates.includes(i) ? 'booked' : 'available'}`;
                div.onclick = () => handleDateClick(i);
                grid.appendChild(div);
            }
        }

        window.handleDateClick = (day) => {
            const msg = document.getElementById('booking-message');
            msg.className = "mt-6 p-6 rounded-2xl text-lg font-medium text-center shadow-lg border-l-8 transition-all"; // reset class
            
            if (isEditMode) {
                const idx = dbData.bookedDates.indexOf(day);
                if (idx > -1) dbData.bookedDates.splice(idx, 1); else dbData.bookedDates.push(day);
                renderCalendar(dbData.bookedDates);
                msg.classList.add('bg-blue-50', 'text-blue-700', 'border-blue-500');
                msg.innerHTML = `<i class="fas fa-info-circle"></i> ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${day} ‡πÅ‡∏•‡πâ‡∏ß (‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏Å‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å)`;
            } else {
                if (dbData.bookedDates.includes(day)) {
                    msg.classList.add('bg-red-50', 'text-red-700', 'border-red-500');
                    msg.innerHTML = `<i class="fas fa-times-circle"></i> ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${day} ‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö`;
                } else {
                    msg.classList.add('bg-green-50', 'text-green-700', 'border-green-500');
                    msg.innerHTML = `<i class="fas fa-check-circle"></i> ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${day} ‡∏ß‡πà‡∏≤‡∏á! <a href="https://www.facebook.com/profile.php?id=61583096235430" target="_blank" class="underline font-bold hover:text-green-900">‡∏ó‡∏±‡∏Å‡∏à‡∏≠‡∏á‡πÄ‡∏•‡∏¢</a>`;
                }
            }
            msg.classList.remove('hidden');
        };

        window.saveToDatabase = async () => {
            if (!currentUser) return;
            const textData = {}; document.querySelectorAll('.editable').forEach(el => textData[el.id] = el.innerText);
            const imageData = {}; document.querySelectorAll('.editable-img').forEach(el => imageData[el.id] = el.src);
            
            const fileData = {};
            const dlBtn = document.getElementById('download-btn');
            if(dlBtn.getAttribute('href') !== '#') fileData['company_profile'] = dlBtn.getAttribute('href');

            const newData = { text: textData, images: imageData, files: fileData, bookedDates: dbData.bookedDates };
            
            try {
                if (new Blob([JSON.stringify(newData)]).size > 950000) return alert("‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô 1MB (Limit Firebase)");
                await setDoc(docRef, newData);
                alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‚úÖ");
                if(isEditMode) toggleEditMode();
            } catch(e) { alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + e.message); }
        };

        window.toggleEditMode = () => {
            const btn = document.getElementById('editToggle');
            const saveBtn = document.getElementById('saveButton');
            const dashboard = document.getElementById('analytics-dashboard');
            const body = document.body;
            const adminTools = document.getElementById('admin-tools');

            if (!isEditMode) {
                if (prompt("‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™ Admin:") !== "admin") return alert("‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î");
                isEditMode = true;
                body.classList.add('admin-mode');
                dashboard.classList.remove('hidden');
                refreshAnalytics();
                
                document.querySelectorAll('.editable').forEach(el => { el.contentEditable = "true"; el.classList.add('editable-active'); });
                document.querySelectorAll('.editable-img').forEach(el => {
                    el.classList.add('editable-img-active');
                    el.onclick = function() { window.currentImageElement = this; document.getElementById('imageUploadInput').click(); };
                });
                
                // Activate File Upload Trigger
                document.getElementById('upload-btn-trigger').onclick = () => {
                    if(confirm("‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå PDF/‡∏£‡∏π‡∏õ ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) document.getElementById('fileUploadInput').click();
                };

                btn.innerHTML = '<i class="fas fa-times"></i> <span>‡∏≠‡∏≠‡∏Å</span>';
                btn.classList.replace('bg-gray-900/90', 'bg-red-600/90');
                saveBtn.classList.remove('hidden');
            } else {
                isEditMode = false;
                body.classList.remove('admin-mode');
                dashboard.classList.add('hidden');
                
                document.querySelectorAll('.editable').forEach(el => { el.contentEditable = "false"; el.classList.remove('editable-active'); if(dbData.text?.[el.id]) el.innerText = dbData.text[el.id]; });
                document.querySelectorAll('.editable-img').forEach(el => { el.classList.remove('editable-img-active'); el.onclick = null; });
                
                btn.innerHTML = '<i class="fas fa-user-shield"></i> <span>‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</span>';
                btn.classList.replace('bg-red-600/90', 'bg-gray-900/90');
                saveBtn.classList.add('hidden');
                renderCalendar(dbData.bookedDates);
            }
        };

        // Keyboard Shortcut to Toggle Admin Button Visibility
        document.addEventListener('keydown', function(e) {
            if (e.shiftKey && e.key === 'A') {
                const adminTools = document.getElementById('admin-tools');
                if (adminTools.classList.contains('hidden')) {
                    adminTools.classList.remove('hidden');
                } else {
                    adminTools.classList.add('hidden');
                }
            }
        });

        // File Handlers
        document.getElementById('imageUploadInput').onchange = (e) => handleFile(e, 'image');
        document.getElementById('fileUploadInput').onchange = (e) => handleFile(e, 'file');

        function handleFile(e, type) {
            const file = e.target.files[0];
            if (!file) return;
            if (file.size > 950000) return alert("‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô 950KB (‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ö‡∏µ‡∏ö‡∏≠‡∏±‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î)");
            
            const reader = new FileReader();
            reader.onload = (evt) => {
                if (type === 'image' && window.currentImageElement) window.currentImageElement.src = evt.target.result;
                else if (type === 'file') {
                    document.getElementById('download-btn').href = evt.target.result;
                    document.getElementById('public-download-area').classList.remove('hidden');
                    alert("‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏û‡∏±‡∏Å‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô");
                }
            };
            reader.readAsDataURL(file);
        }
    </script>
</body>
</html>
</body>

</html>
